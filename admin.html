<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | You –ü–µ—á–∫–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style> body { font-family: 'Inter', sans-serif; background-color: #f5f5f4; } </style>
</head>
<body class="text-stone-800 antialiased h-screen flex overflow-hidden">

    <!-- Sidebar -->
    <aside class="w-64 bg-stone-900 text-white flex flex-col h-full flex-shrink-0">
        <div class="p-6 border-b border-stone-800 flex items-center space-x-3">
            <!-- –õ–û–ì–û–¢–ò–ü -->
            <img src="logo.jpg" alt="You –ü–µ—á–∫–∞" onerror="this.src='https://placehold.co/100x100/C68663/FFF?text=YP'" class="w-12 h-12 rounded-full object-cover border-2 border-stone-700">
            <div>
                <h1 class="text-lg font-black uppercase tracking-widest text-orange-500 leading-none">You –ü–µ—á–∫–∞</h1>
                <span class="text-xs text-stone-400 font-medium">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</span>
            </div>
        </div>
        <nav class="flex-grow p-4 space-y-2">
            <button onclick="switchTab('orders')" id="tab-orders" class="w-full flex items-center px-4 py-3 bg-orange-600 rounded-xl font-medium text-white transition-colors">
                <i data-lucide="bell" class="w-5 h-5 mr-3"></i> –ó–∞–∫–∞–∑—ã
                <span class="ml-auto bg-white text-orange-600 text-xs font-bold px-2 py-0.5 rounded-full">2</span>
            </button>
            <button onclick="switchTab('menu')" id="tab-menu" class="w-full flex items-center px-4 py-3 text-stone-400 hover:bg-stone-800 hover:text-white rounded-xl font-medium transition-colors">
                <i data-lucide="pizza" class="w-5 h-5 mr-3"></i> –ú–µ–Ω—é
            </button>
            <button onclick="switchTab('settings')" id="tab-settings" class="w-full flex items-center px-4 py-3 text-stone-400 hover:bg-stone-800 hover:text-white rounded-xl font-medium transition-colors">
                <i data-lucide="settings" class="w-5 h-5 mr-3"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
            </button>
        </nav>
        <div class="p-4 border-t border-stone-800">
            <a href="client.html" target="_blank" class="w-full flex items-center justify-center px-4 py-3 bg-stone-800 hover:bg-stone-700 rounded-xl transition-colors text-sm font-medium">
                <i data-lucide="external-link" class="w-4 h-4 mr-2"></i> –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-grow overflow-y-auto p-8 relative">
        
        <!-- Tab: ORDERS (–ó–∞–∫–∞–∑—ã) -->
        <div id="view-orders" class="max-w-6xl mx-auto block">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">–¢–µ–∫—É—â–∏–µ –∑–∞–∫–∞–∑—ã</h2>
                <button onclick="renderOrders()" class="text-stone-500 hover:text-stone-900 flex items-center bg-white px-4 py-2 rounded-xl shadow-sm border border-stone-200 transition-colors">
                    <i data-lucide="refresh-cw" class="w-4 h-4 mr-2"></i> –û–±–Ω–æ–≤–∏—Ç—å
                </button>
            </div>

            <!-- –°–µ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤ -->
            <div id="orders-container" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–∫–∞–∑–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <!-- Tab: MENU (–ú–µ–Ω—é) -->
        <div id="view-menu" class="max-w-6xl mx-auto hidden">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω—é</h2>
                <button onclick="openForm()" class="bg-orange-600 hover:bg-orange-500 text-white px-5 py-2.5 rounded-xl font-medium flex items-center shadow-sm transition-colors">
                    <i data-lucide="plus" class="w-5 h-5 mr-2"></i> –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
                </button>
            </div>

            <div class="bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-stone-50 border-b border-stone-200 text-stone-500 text-sm uppercase">
                            <th class="p-4 w-16">–§–æ—Ç–æ</th>
                            <th class="p-4">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th class="p-4">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                            <th class="p-4">–¶–µ–Ω–∞</th>
                            <th class="p-4 text-right">–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="menu-table" class="divide-y divide-stone-100">
                        <!-- Data injected via JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tab: SETTINGS (–ù–∞—Å—Ç—Ä–æ–π–∫–∏) -->
        <div id="view-settings" class="max-w-3xl mx-auto hidden">
            <h2 class="text-3xl font-bold mb-8">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram –ë–æ—Ç–∞</h2>
            
            <div class="bg-white p-8 rounded-2xl shadow-sm border border-stone-200 mb-6">
                <div class="flex items-start mb-6 pb-6 border-b border-stone-100">
                    <div class="w-12 h-12 bg-blue-100 text-blue-500 rounded-xl flex items-center justify-center mr-4 flex-shrink-0">
                        <i data-lucide="bot" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-2">–ö—É–¥–∞ –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∑–∞–∫–∞–∑—ã?</h3>
                        <p class="text-stone-500 text-sm">–ß—Ç–æ–±—ã –∑–∞–∫–∞–∑—ã —Å —Å–∞–π—Ç–∞ –ø–∞–¥–∞–ª–∏ –≤–∞–º –≤ Telegram, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ <a href="https://t.me/BotFather" target="_blank" class="text-blue-500 underline">@BotFather</a> –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –¥–∞–Ω–Ω—ã–µ —Å—é–¥–∞.</p>
                    </div>
                </div>

                <form onsubmit="saveSettings(event)" class="space-y-6">
                    <div>
                        <label class="block font-medium text-stone-700 mb-2">Bot Token (API –ö–ª—é—á)</label>
                        <input type="text" id="bot-token" class="w-full px-4 py-3 border border-stone-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-mono text-sm" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 123456789:ABCdefGHIjklMNOpqrs...">
                    </div>
                    <div>
                        <label class="block font-medium text-stone-700 mb-2">Chat ID (–í–∞—à ID –∏–ª–∏ ID –≥—Ä—É–ø–ø—ã)</label>
                        <input type="text" id="chat-id" class="w-full px-4 py-3 border border-stone-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-mono text-sm" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 987654321">
                        <p class="text-xs text-stone-400 mt-2">–£–∑–Ω–∞—Ç—å —Å–≤–æ–π Chat ID –º–æ–∂–Ω–æ —É –±–æ—Ç–∞ <a href="https://t.me/getmyid_bot" target="_blank" class="text-blue-500 hover:underline">@getmyid_bot</a>.</p>
                    </div>
                    <button type="submit" class="bg-stone-900 hover:bg-stone-800 text-white font-bold px-6 py-3 rounded-xl shadow flex items-center transition-colors">
                        <i data-lucide="save" class="w-5 h-5 mr-2"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                    </button>
                </form>
            </div>
        </div>

        <!-- Add/Edit Modal (Menu) -->
        <div id="form-modal" class="fixed inset-0 z-50 bg-stone-900/50 backdrop-blur-sm hidden flex items-center justify-center p-4">
            <div class="bg-white rounded-3xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90vh]">
                <div class="p-6 border-b border-stone-100 flex justify-between items-center bg-stone-50 rounded-t-3xl">
                    <h3 id="modal-title" class="text-xl font-bold">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é</h3>
                    <button onclick="closeForm()" class="text-stone-400 hover:text-stone-700 transition-colors"><i data-lucide="x" class="w-6 h-6"></i></button>
                </div>
                <form id="item-form" onsubmit="saveItem(event)" class="p-6 space-y-4 overflow-y-auto">
                    <input type="hidden" id="item-id">
                    <div>
                        <label class="block text-sm font-medium mb-1">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input required type="text" id="item-name" class="w-full px-4 py-2 border border-stone-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-shadow">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium mb-1">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select id="item-category" class="w-full px-4 py-2 border border-stone-200 rounded-xl outline-none bg-white focus:ring-2 focus:ring-orange-500">
                                <option>–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</option>
                                <option>–ü–∏—Ü—Ü–∞</option>
                                <option>–î–æ–ø–æ–ª–Ω–∏ –ø–∏—Ü—Ü—É</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1">–¶–µ–Ω–∞ (‚ÇΩ)</label>
                            <input required type="number" id="item-price" class="w-full px-4 py-2 border border-stone-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-shadow">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium mb-1">–†–∞–∑–º–µ—Ä</label>
                            <input type="text" id="item-size" placeholder="30 —Å–º" class="w-full px-4 py-2 border border-stone-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-shadow">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1">–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                            <input type="text" id="item-tags" placeholder="üî•, –û—Å—Ç—Ä–∞—è" class="w-full px-4 py-2 border border-stone-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-shadow">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">–û–ø–∏—Å–∞–Ω–∏–µ (—Å–æ—Å—Ç–∞–≤)</label>
                        <textarea id="item-desc" rows="2" class="w-full px-4 py-2 border border-stone-200 rounded-xl outline-none resize-none focus:ring-2 focus:ring-orange-500 transition-shadow"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ</label>
                        <input type="url" id="item-img" class="w-full px-4 py-2 border border-stone-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-shadow">
                    </div>
                    <div class="flex justify-end pt-4 border-t border-stone-100 gap-3 mt-6">
                        <button type="button" onclick="closeForm()" class="px-5 py-2.5 text-stone-600 bg-stone-100 hover:bg-stone-200 rounded-xl transition-colors font-medium">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="px-5 py-2.5 text-white bg-orange-600 hover:bg-orange-500 rounded-xl font-medium transition-colors">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <script>
        // --- –î–ê–ù–ù–´–ï –ó–ê–ö–ê–ó–û–í (–ú–∞–∫–µ—Ç) ---
        let mockOrders = [
            {
                id: '1024',
                date: '26 —Ñ–µ–≤, 14:30',
                name: '–ê–ª–µ–∫—Å–µ–π',
                phone: '+7 (999) 123-45-67',
                items: [
                    { name: '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏', qty: 1, price: 550 },
                    { name: '–°—ã—Ä', qty: 1, price: 50 }
                ],
                total: 600,
                status: 'new' // new, cooking, done, canceled
            },
            {
                id: '1025',
                date: '26 —Ñ–µ–≤, 14:45',
                name: '–ú–∞—Ä–∏—è',
                phone: '+7 (900) 000-00-00',
                items: [
                    { name: '–ß–µ—Ç—ã—Ä–µ –≤–∫—É—Å–∞', qty: 1, price: 770 },
                    { name: '–ë—É—Ä–≥–µ—Ä', qty: 1, price: 650 }
                ],
                total: 1420,
                status: 'cooking'
            }
        ];

        // --- –î–ê–ù–ù–´–ï –ú–ï–ù–Æ (–ú–∞–∫–µ—Ç) ---
        let menuItems = [
            { id: 1, category: '–ü–∏—Ü—Ü–∞', name: '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏', price: 550, size: '30 —Å–º', desc: '–¢–æ–Ω–∫–æ–µ —Ç–µ—Å—Ç–æ, —Å–ª–∏–≤–æ—á–Ω—ã–π/—Ç–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å, —Å—ã—Ä –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –ø–µ–ø–ø–µ—Ä–æ–Ω–∏', tags: [], img: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?w=500&q=80' },
            { id: 2, category: '–ü–∏—Ü—Ü–∞', name: '–ú—è—Å–Ω–∞—è', price: 650, size: '30 —Å–º', desc: '–¢–æ–Ω–∫–æ–µ —Ç–µ—Å—Ç–æ, —Ç–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å, —Å—ã—Ä –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –≤–µ—Ç—á–∏–Ω–∞, –ø–µ–ø–ø–µ—Ä–æ–Ω–∏, –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, –æ—Ö–æ—Ç–Ω–∏—á—å–∏ –∫–æ–ª–±–∞—Å–∫–∏, –º–∞—Å–ª–∏–Ω—ã', tags: ['–ú–Ω–æ–≥–æ –º—è—Å–∞!'], img: 'https://images.unsplash.com/photo-1604381538336-254bc79a9f49?w=500&q=80' }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            renderTable();
            renderOrders();
            switchTab('orders'); // –û—Ç–∫—Ä—ã–≤–∞–µ–º –∑–∞–∫–∞–∑—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        });

        // --- TABS LOGIC ---
        function switchTab(tab) {
            document.getElementById('view-menu').classList.toggle('hidden', tab !== 'menu');
            document.getElementById('view-settings').classList.toggle('hidden', tab !== 'settings');
            document.getElementById('view-orders').classList.toggle('hidden', tab !== 'orders');
            
            const activeClass = 'w-full flex items-center px-4 py-3 bg-orange-600 rounded-xl font-medium text-white transition-colors';
            const inactiveClass = 'w-full flex items-center px-4 py-3 text-stone-400 hover:bg-stone-800 hover:text-white rounded-xl font-medium transition-colors';

            document.getElementById('tab-menu').className = tab === 'menu' ? activeClass : inactiveClass;
            document.getElementById('tab-settings').className = tab === 'settings' ? activeClass : inactiveClass;
            document.getElementById('tab-orders').className = tab === 'orders' ? activeClass : inactiveClass;
        }

        // --- ORDERS LOGIC ---
        function renderOrders() {
            const container = document.getElementById('orders-container');
            container.innerHTML = '';

            const statusConfig = {
                'new': { color: 'bg-red-500', text: '–ù–æ–≤—ã–π –∑–∞–∫–∞–∑' },
                'cooking': { color: 'bg-yellow-500', text: '–ì–æ—Ç–æ–≤–∏—Ç—Å—è' },
                'done': { color: 'bg-green-500', text: '–í—ã–¥–∞–Ω' },
                'canceled': { color: 'bg-stone-400', text: '–û—Ç–º–µ–Ω–µ–Ω' }
            };

            mockOrders.forEach(order => {
                const conf = statusConfig[order.status];
                
                let itemsHtml = order.items.map(i => `
                    <div class="flex justify-between text-sm mb-1">
                        <span class="text-stone-700">${i.qty} x ${i.name}</span>
                        <span class="font-medium text-stone-900">${i.price * i.qty} ‚ÇΩ</span>
                    </div>
                `).join('');

                const card = document.createElement('div');
                card.className = "bg-white rounded-2xl p-6 shadow-sm border border-stone-200 flex flex-col";
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-black text-xl text-stone-900">#${order.id}</h3>
                            <p class="text-xs text-stone-500">${order.date}</p>
                        </div>
                        <span class="${conf.color} text-white text-xs font-bold px-3 py-1 rounded-full shadow-sm">${conf.text}</span>
                    </div>
                    
                    <div class="bg-stone-50 p-4 rounded-xl mb-4 flex-grow">
                        <div class="mb-3 pb-3 border-b border-stone-200">
                            <div class="font-bold flex items-center mb-1"><i data-lucide="user" class="w-4 h-4 mr-2 text-stone-400"></i>${order.name}</div>
                            <div class="text-stone-600 flex items-center text-sm"><i data-lucide="phone" class="w-4 h-4 mr-2 text-stone-400"></i><a href="tel:${order.phone}" class="hover:text-blue-500">${order.phone}</a></div>
                        </div>
                        <div class="mb-3">
                            <p class="text-xs font-bold text-stone-400 uppercase tracking-wider mb-2">–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞</p>
                            ${itemsHtml}
                        </div>
                        <div class="flex justify-between items-center mt-3 pt-3 border-t border-stone-200">
                            <span class="font-medium text-stone-500">–ò—Ç–æ–≥–æ:</span>
                            <span class="font-black text-xl text-orange-600">${order.total} ‚ÇΩ</span>
                        </div>
                    </div>

                    <div class="flex gap-2 mt-auto">
                        ${order.status === 'new' ? `<button onclick="changeOrderStatus('${order.id}', 'cooking')" class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 rounded-xl transition-colors text-sm">–ì–æ—Ç–æ–≤–∏—Ç—å</button>` : ''}
                        ${order.status === 'cooking' ? `<button onclick="changeOrderStatus('${order.id}', 'done')" class="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-2 rounded-xl transition-colors text-sm">–í—ã–¥–∞–Ω</button>` : ''}
                        ${order.status !== 'done' && order.status !== 'canceled' ? `<button onclick="changeOrderStatus('${order.id}', 'canceled')" class="px-4 bg-stone-100 hover:bg-stone-200 text-stone-600 font-bold py-2 rounded-xl transition-colors text-sm"><i data-lucide="x" class="w-4 h-4 mx-auto"></i></button>` : ''}
                    </div>
                `;
                container.appendChild(card);
            });
            lucide.createIcons();
        }

        function changeOrderStatus(id, newStatus) {
            const order = mockOrders.find(o => o.id === id);
            if (order) {
                order.status = newStatus;
                renderOrders();
            }
        }

        // --- MENU LOGIC ---
        function renderTable() {
            const tbody = document.getElementById('menu-table');
            tbody.innerHTML = menuItems.map(item => `
                <tr class="hover:bg-stone-50 transition-colors">
                    <td class="p-4"><img src="${item.img || 'https://images.unsplash.com/photo-1513104890138-7c749659a591?w=500'}" class="w-12 h-12 object-cover rounded-lg border border-stone-200"></td>
                    <td class="p-4"><div class="font-bold text-stone-900">${item.name}</div>${item.size ? `<div class="text-xs text-stone-500">${item.size}</div>` : ''}</td>
                    <td class="p-4 text-sm text-stone-500"><span class="bg-stone-100 px-2 py-1 rounded-md">${item.category}</span></td>
                    <td class="p-4 font-black text-orange-600 whitespace-nowrap">${item.price} ‚ÇΩ</td>
                    <td class="p-4 text-right">
                        <button onclick="openForm(${item.id})" class="text-blue-500 p-2 hover:bg-blue-50 rounded-lg transition-colors"><i data-lucide="edit" class="w-5 h-5"></i></button>
                        <button onclick="deleteItem(${item.id})" class="text-red-500 p-2 hover:bg-red-50 rounded-lg transition-colors"><i data-lucide="trash-2" class="w-5 h-5"></i></button>
                    </td>
                </tr>
            `).join('');
            lucide.createIcons();
        }

        function openForm(id = null) {
            document.getElementById('item-form').reset();
            if (id) {
                const item = menuItems.find(i => i.id === id);
                document.getElementById('item-id').value = item.id;
                document.getElementById('item-name').value = item.name;
                document.getElementById('item-category').value = item.category;
                document.getElementById('item-price').value = item.price;
                document.getElementById('item-size').value = item.size || '';
                document.getElementById('item-tags').value = (item.tags || []).join(', ');
                document.getElementById('item-desc').value = item.desc || '';
                document.getElementById('item-img').value = item.img || '';
                document.getElementById('modal-title').textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é';
            } else {
                document.getElementById('item-id').value = '';
                document.getElementById('modal-title').textContent = '–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é';
            }
            document.getElementById('form-modal').classList.remove('hidden');
        }

        function closeForm() { document.getElementById('form-modal').classList.add('hidden'); }

        function saveItem(e) {
            e.preventDefault();
            const idVal = document.getElementById('item-id').value;
            const tagsInput = document.getElementById('item-tags').value;
            
            const newItem = {
                id: idVal ? parseInt(idVal) : Date.now(),
                name: document.getElementById('item-name').value,
                category: document.getElementById('item-category').value,
                price: parseInt(document.getElementById('item-price').value),
                size: document.getElementById('item-size').value,
                tags: tagsInput.split(',').map(t => t.trim()).filter(t => t !== ''),
                desc: document.getElementById('item-desc').value,
                img: document.getElementById('item-img').value
            };

            if (idVal) {
                const idx = menuItems.findIndex(i => i.id === newItem.id);
                menuItems[idx] = newItem;
            } else {
                menuItems.push(newItem);
            }
            renderTable();
            closeForm();
        }

        function deleteItem(id) {
            if(confirm('–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å?')) {
                menuItems = menuItems.filter(i => i.id !== id);
                renderTable();
            }
        }

        function saveSettings(e) {
            e.preventDefault();
            alert(`–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!`);
        }
    </script>
</body>
</html>
